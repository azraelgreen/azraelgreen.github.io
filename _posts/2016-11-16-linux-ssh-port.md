---
layout: post
title: Linux 下 SSH 端口修改
date: 2016-11-16
categories: blog
tags: [linux]
description: Linux 下 SSH 端口修改

---

Linux 各发行版中 SSH 端口默认为22，如果正式做站或其它用途，为了提高安全性就需要修改掉默认的SSH端口号。

### 1、修改配置文件：/etc/ssh/sshd_config ，找到#port 22

### 2、先将Port 22 前面的 # 号去掉，并另起一行。如定义SSH端口号为26611 ，则输入

`Port 26611`

自定义端口选择建议在万位的端口（如：10000-65535之间）

以上操作，手动指定SSH端口为22和26611（双端口号），保留22是为了防止个别防火墙屏蔽了其它端口导致无法连接（如没单独指定22，新指定的26611端口防火墙也没放行，那么可能无法通过SSH连接VPS或服务器）。为了防止不必要问题的产生，所以要给自己保留条“后路”。

### 3、修改完毕后，重启SSH服务，并退出当前连接的SSH端口。

`service sshd restart`

### 4、重启完毕，尝试使用新端口登陆。

连接成功，需要重新添加SSH-RSA验证，点击是（或Yes）即可。

### 5、若能正常访问，返回第一步，根据第二步的操作将原port 22整段删掉，再重启SSH服务即可。

以上步骤重启后使用默认22号端口无法进入SSH，配置完成。

使用新端口登陆方法：

`ssh -p 26611 test@192.168.xx.xx`